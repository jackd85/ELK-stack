input {
    file {
        path => "/opt/logstash/output.txt"
        start_position => "beginning"
    }
    http {

    }
    
}

filter {
    grok {
        match => { "message" => '"%{HTTPD_COMMONLOG} "%{GREEDYDATA:referrer} %{GREEDYDATA:agent}"' }
    }

    mutate {
        gsub => [
            "agent", '"', "",
            "referrer", '"', ""
        ]
    }
}

output {
    stdout {
        codec => rubydebug
    }
}